import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";

const questions = [
  { prompt: "Coffee or Tea?", optionA: "Coffee", optionB: "Tea" },
  { prompt: "Mountains or Beach?", optionA: "Mountains", optionB: "Beach" },
  { prompt: "Cats or Dogs?", optionA: "Cats", optionB: "Dogs" },
  { prompt: "Books or Movies?", optionA: "Books", optionB: "Movies" },
];

export default function ThisOrThatGame() {
  const [currentIndex, setCurrentIndex] = useState(0);
  const [selections, setSelections] = useState([]);

  const handleSelect = (choice) => {
    setSelections([...selections, { ...questions[currentIndex], choice }]);
    if (currentIndex < questions.length - 1) {
      setCurrentIndex(currentIndex + 1);
    } else {
      alert("Thanks for playing! Check the console for your results.");
      console.log("Your choices:", [...selections, { ...questions[currentIndex], choice }]);
    }
  };

  const current = questions[currentIndex];

  return (
    <div className="flex items-center justify-center min-h-screen bg-gray-100">
      <Card className="w-full max-w-md p-6 shadow-xl rounded-2xl">
        <CardContent>
          <h1 className="text-xl font-bold mb-6 text-center">This or That</h1>
          <p className="text-lg font-medium text-center mb-4">{current.prompt}</p>
          <div className="flex justify-around mt-4">
            <Button onClick={() => handleSelect(current.optionA)} className="w-32">
              {current.optionA}
            </Button>
            <Button onClick={() => handleSelect(current.optionB)} className="w-32">
              {current.optionB}
            </Button>
          </div>
        </CardContent>
      </Card>
    </div>
  );
}
